<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>UTN Wav Player: Fuentes/Micro/Proyecto_Info2/Aplicacion/AppFunctions.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">UTN Wav Player</div>
   <div id="projectbrief">Proyecto Informatica II 2014 UTN FRBA</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('_app_functions_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>Fuentes/Micro/Proyecto_Info2/Aplicacion/AppFunctions.c File Reference</h1>  </div>
</div>
<div class="contents">

<p>Funciones de la aplicacion.  
<a href="#_details">More...</a></p>
<div class="textblock"><code>#include &quot;AppFunctions.h&quot;</code><br/>
<code>#include &quot;string.h&quot;</code><br/>
<code>#include &quot;stdio.h&quot;</code><br/>
<code>#include &quot;stdlib.h&quot;</code><br/>
<code>#include &quot;KitInfo2_Expansiones.h&quot;</code><br/>
<code>#include &quot;KitInic_Expansiones.h&quot;</code><br/>
<code>#include &quot;FW_Timer1.h&quot;</code><br/>
<code>#include &quot;FW_DAC.h&quot;</code><br/>
<code>#include &quot;FW_DMA.h&quot;</code><br/>
<code>#include &quot;PR_Teclado.h&quot;</code><br/>
<code>#include &quot;PR_LCD.h&quot;</code><br/>
<code>#include &quot;PR_UART1_RS232.h&quot;</code><br/>
<code>#include &quot;PR_Display7Seg.h&quot;</code><br/>
</div>
<p><a href="_app_functions_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#aeb1f7774cde302dd2e541041ec139f26">MaqEstadoDMA</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Maquina de Estado del Canal 0 el DMA.  <a href="#aeb1f7774cde302dd2e541041ec139f26"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_regs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#af6c1b54cbcc57505b16ef4330ebd9439">SDtoBuffer</a> (FIL *<a class="el" href="_f_w___timer1_8c.html#a789cef84d8187d51ca76445e9830902c">G_fp</a>, unsigned int *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Copia 1024 bytes de un archivo a un buffer.  <a href="#af6c1b54cbcc57505b16ef4330ebd9439"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a708f0b409d8ccde525ec76bd110c6ba3">GetSongNumber</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Guarda en la variable global G_songs_number la cantidad de archivos en la tarjeta SD.  <a href="#a708f0b409d8ccde525ec76bd110c6ba3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a6115808ec1fe71451658e0a343e2b2c0">InitApp</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicializa perifericos,teclado,LCD,Display y la SD card.  <a href="#a6115808ec1fe71451658e0a343e2b2c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#ad4a684591c8487d4c7939f0f54d20517">InitSDSongList</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicializa tarjeta SD y carga en los vectores G_songs_titles,G_songs_authors y G_songs_durations la informacion de las canciones.  <a href="#ad4a684591c8487d4c7939f0f54d20517"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_regs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#adcc967a6e9227c7bda7a70e5ea3c1c39">GetFileQuantity</a> (char *path)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Averigua la cantidad de archivos encontrados en la carpeta path de la SD.  <a href="#adcc967a6e9227c7bda7a70e5ea3c1c39"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_wav___chunk.html">Wav_Chunk</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#afc00ad4fd722734ce770b6bf33e6dff4">GetSongInfo</a> (char *Song_Name)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtiene los metadatos de la cancion dada como parametro y los devuelve.  <a href="#afc00ad4fd722734ce770b6bf33e6dff4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a0e251469709200ea9901e2a271c5a504">LoadSDInfo</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Carga en G_songs_titles,G_songs_authors y G_songs_durations la informacion de las canciones.  <a href="#a0e251469709200ea9901e2a271c5a504"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a8315b4149d40f96622938f90309966c0">UARTRx</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Maquina de estado que maneja los datos recibidos de la UART.  <a href="#a8315b4149d40f96622938f90309966c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a6376ac9709ceeb9e9c2994bc9f03a9f3">CheckCommand</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Analiza G_cmd, y si es un comando valido realiza la accion correspondiente.  <a href="#a6376ac9709ceeb9e9c2994bc9f03a9f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a89118859f17a2b9d8d8d183cfd33e8ed">RutinaSDList</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Envia por la uart la informacion de las canciones de la SD en una trama que inicia con $ y termina con $@.  <a href="#a89118859f17a2b9d8d8d183cfd33e8ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a1df9bab524cac2f2ce1bd278a1885998">DisplayLCDCurrSong</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Muestra en el LCD el titulo y el autor de la cancion actual.  <a href="#a1df9bab524cac2f2ce1bd278a1885998"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a5cc698f012c3b3d66ce84864269cf219">AbrirCancion</a> (char *nombre)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Abre una cancion y la adelanta 44 bytes para saltear los metadatos.  <a href="#a5cc698f012c3b3d66ce84864269cf219"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a36cfcc5ea596a7080a3c9d7975c2ed7d">CerrarCancion</a> (FIL *<a class="el" href="_f_w___timer1_8c.html#a789cef84d8187d51ca76445e9830902c">G_fp</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cierra la cancion apuntada por el fichero G_fp.  <a href="#a36cfcc5ea596a7080a3c9d7975c2ed7d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a3100fd8185ae1c6def06190968e7ea0b">PlaySong</a> (int <a class="el" href="_app_functions_8c.html#a378d10b357b411dc49ed8351e7d0e99f">G_song_code</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reproduce la cancion que este ubicada en la posicion "G_song_code" dentro del vector G_nombres_archivos.  <a href="#a3100fd8185ae1c6def06190968e7ea0b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a80c88434bf3c7068d9e322b13c9bb39b">StopSong</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Detiene la cancion que se este reproduciendo actualmente y retorna el LCD,los leds y el display a su estado inicial.  <a href="#a80c88434bf3c7068d9e322b13c9bb39b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a0e03f561eeebcb7aa5981e678440b5a7">PauseSong</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Pausa la cancion que se este reproduciendo en ese momento.  <a href="#a0e03f561eeebcb7aa5981e678440b5a7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#ac6e87b78e648ac38c9b003e2486c6b62">ResumeSong</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume la cancion que se estaba reproduciendo anteriormente.  <a href="#ac6e87b78e648ac38c9b003e2486c6b62"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a2f99b4cbc895f287195d727201d98e0d">PlayPrevSong</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reproduce la cancion anterior a la que se encuentra en la posicion G_song_code,si es que hay una.  <a href="#a2f99b4cbc895f287195d727201d98e0d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a09a6543685b271a7d5758f1110730eee">PlayNextSong</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reproduce la cancion posterior a la que se encuentra en la posicion G_song_code,si es que hay una.  <a href="#a09a6543685b271a7d5758f1110730eee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a262f1f44d38f7ac78e7620f1edc839d8">FuncKey</a> (<a class="el" href="_regs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> key)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Realiza una accion dependediendo del valor de "key".  <a href="#a262f1f44d38f7ac78e7620f1edc839d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a74135202979ea974b2536321b563ffff">CheckPcConnection</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cambia el valor de "G_modo" a "PC" o a "PLACA" dependiendo de si se conecto o desconecto la PC.  <a href="#a74135202979ea974b2536321b563ffff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a858557ff6af03d29cdb0e0831f2dc3d5">PitidoBuzzer</a> (int mseg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Emite un pitido en el buzzer que dura "mseg" milisegundos.  <a href="#a858557ff6af03d29cdb0e0831f2dc3d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a6123ba09ab7584ad0ac2e944c3c2015c">CheckSD</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Chequea que la SD este en la ranura. Si no esta,se emite un mensaje de error y se detiene el programa hasta que se lo resetee manualmente.  <a href="#a6123ba09ab7584ad0ac2e944c3c2015c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a73161a2f0617707660d421015547fe14">CheckEndOfSong</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Chequea si la cancion llego al final, y si lo hace, reproduce la proxima cancion en la lista.  <a href="#a73161a2f0617707660d421015547fe14"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#afd1cd2e37a82c5de05258f5409f4c6c5">G_buffer1_DMA</a> [1024]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer donde se guardan datos de un archivo de la SD para luego ser enviado por el DMA al dac.  <a href="#afd1cd2e37a82c5de05258f5409f4c6c5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a5de3534ca265b59324bd638bb8cce270">G_buffer2_DMA</a> [1024]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer donde se guardan datos de un archivo de la SD para luego ser enviado por el DMA al dac.  <a href="#a5de3534ca265b59324bd638bb8cce270"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a013adf5ad9eec6f2e9a18d34355fe640">G_Timer_Buzzer</a> = 0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer del buzzer utilizado en la funcion <a class="el" href="_app_functions_8c.html#a858557ff6af03d29cdb0e0831f2dc3d5" title="Emite un pitido en el buzzer que dura &quot;mseg&quot; milisegundos.">PitidoBuzzer()</a>  <a href="#a013adf5ad9eec6f2e9a18d34355fe640"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="_regs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a6871fb83fb844ab9331d8830234c02f5">Delay_LCD</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_regs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a143745b7fada899695f2f77cfc08886a">G_start_transfer</a> = 0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag para iniciar la transferencia utilizado en <a class="el" href="_app_functions_8c.html#aeb1f7774cde302dd2e541041ec139f26" title="Maquina de Estado del Canal 0 el DMA.">MaqEstadoDMA()</a>  <a href="#a143745b7fada899695f2f77cfc08886a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_regs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a9ad7cdf1fbd255b61a8d31b176dce417">G_estado_DMA</a> = NO_DATA</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Estado de la maquina de estados <a class="el" href="_app_functions_8c.html#aeb1f7774cde302dd2e541041ec139f26" title="Maquina de Estado del Canal 0 el DMA.">MaqEstadoDMA()</a>  <a href="#a9ad7cdf1fbd255b61a8d31b176dce417"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">FIL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a789cef84d8187d51ca76445e9830902c">G_fp</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable donde se guarda la informacion del archivo que se abra.  <a href="#a789cef84d8187d51ca76445e9830902c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#acefeef3bdc47dc9be69820d0ba1e972e">G_nombres_archivos</a> [100][60] = {{0}}</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Matriz donde se guardan los nombres de las canciones en la SD.  <a href="#acefeef3bdc47dc9be69820d0ba1e972e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a1edf3810d5e9caabeac5747a286e4891">G_songs_titles</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Matriz donde se guardan los titulos de las canciones.  <a href="#a1edf3810d5e9caabeac5747a286e4891"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a491938f288364f40cc2a2e0192b67b0d">G_songs_authors</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Matriz donde se guardan los autores de las canciones.  <a href="#a491938f288364f40cc2a2e0192b67b0d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#aa9198929113065acbae2ab08480669a2">G_songs_durations</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Matriz donde se guardan la duracion en segundos de las canciones.  <a href="#aa9198929113065acbae2ab08480669a2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_regs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a42c0cc52b53713dc556e3c433e0c8f9a">G_songs_number</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cantidad de canciones encontradas en la SD.  <a href="#a42c0cc52b53713dc556e3c433e0c8f9a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">FATFS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#af3fdc598c32ece2d05b5f3a7d49c7365">G_fatfs</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable donde se guarda la informacion de la SD montada.  <a href="#af3fdc598c32ece2d05b5f3a7d49c7365"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#ae67dd18ab05d965c9bbaabcfb227404b">G_cmd</a> [7]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Comando recibido por UART.  <a href="#ae67dd18ab05d965c9bbaabcfb227404b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a378d10b357b411dc49ed8351e7d0e99f">G_song_code</a> = 0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Codigo de la cancion.Cada cancion tiene un codigo que corresponde a la posicion que tenga en G_nombres_archivos.  <a href="#a378d10b357b411dc49ed8351e7d0e99f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_regs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a33ad19b5ab47d0fa5764224b78daa962">G_estado_cancion</a> = SIN_CANCION</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Indica el estado actual de la cancion (reproduciendose,pausada,etc)  <a href="#a33ad19b5ab47d0fa5764224b78daa962"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_regs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_app_functions_8c.html#a5c795eadfdd0acb28342cac2aa9f2451">G_modo</a> = PLACA</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Indica el modo en el que esta el reproductor.Puede ser PLACA o PC.  <a href="#a5c795eadfdd0acb28342cac2aa9f2451"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Funciones de la aplicacion. </p>
<p>Archivo que contiene las funciones incluidas dentro de la capa de aplicacion </p>

<p>Definition in file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a5cc698f012c3b3d66ce84864269cf219"></a><!-- doxytag: member="AppFunctions.c::AbrirCancion" ref="a5cc698f012c3b3d66ce84864269cf219" args="(char *nombre)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AbrirCancion </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nombre</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Abre una cancion y la adelanta 44 bytes para saltear los metadatos. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">nombre</td><td>Puntero al string que contiene el nombre de una cancion </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00714">714</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a36cfcc5ea596a7080a3c9d7975c2ed7d"></a><!-- doxytag: member="AppFunctions.c::CerrarCancion" ref="a36cfcc5ea596a7080a3c9d7975c2ed7d" args="(FIL *G_fp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CerrarCancion </td>
          <td>(</td>
          <td class="paramtype">FIL *&#160;</td>
          <td class="paramname"><em>G_fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cierra la cancion apuntada por el fichero G_fp. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">G_fp</td><td>Puntero a fichero </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00731">731</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6376ac9709ceeb9e9c2994bc9f03a9f3"></a><!-- doxytag: member="AppFunctions.c::CheckCommand" ref="a6376ac9709ceeb9e9c2994bc9f03a9f3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CheckCommand </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Analiza G_cmd, y si es un comando valido realiza la accion correspondiente. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00543">543</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a73161a2f0617707660d421015547fe14"></a><!-- doxytag: member="AppFunctions.c::CheckEndOfSong" ref="a73161a2f0617707660d421015547fe14" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CheckEndOfSong </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Chequea si la cancion llego al final, y si lo hace, reproduce la proxima cancion en la lista. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l01007">1007</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a74135202979ea974b2536321b563ffff"></a><!-- doxytag: member="AppFunctions.c::CheckPcConnection" ref="a74135202979ea974b2536321b563ffff" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CheckPcConnection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cambia el valor de "G_modo" a "PC" o a "PLACA" dependiendo de si se conecto o desconecto la PC. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00939">939</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6123ba09ab7584ad0ac2e944c3c2015c"></a><!-- doxytag: member="AppFunctions.c::CheckSD" ref="a6123ba09ab7584ad0ac2e944c3c2015c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CheckSD </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Chequea que la SD este en la ranura. Si no esta,se emite un mensaje de error y se detiene el programa hasta que se lo resetee manualmente. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00972">972</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1df9bab524cac2f2ce1bd278a1885998"></a><!-- doxytag: member="AppFunctions.c::DisplayLCDCurrSong" ref="a1df9bab524cac2f2ce1bd278a1885998" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DisplayLCDCurrSong </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Muestra en el LCD el titulo y el autor de la cancion actual. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00695">695</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a262f1f44d38f7ac78e7620f1edc839d8"></a><!-- doxytag: member="AppFunctions.c::FuncKey" ref="a262f1f44d38f7ac78e7620f1edc839d8" args="(uint8_t key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FuncKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_regs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Realiza una accion dependediendo del valor de "key". </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>char que contiene a la tecla pulsada </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00864">864</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="adcc967a6e9227c7bda7a70e5ea3c1c39"></a><!-- doxytag: member="AppFunctions.c::GetFileQuantity" ref="adcc967a6e9227c7bda7a70e5ea3c1c39" args="(char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_regs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> GetFileQuantity </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Averigua la cantidad de archivos encontrados en la carpeta path de la SD. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Direccion de la carpeta ubicada en la carpeta SD </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Entero que representa la cantidad de archivos encontrados en path </dd></dl>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00283">283</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="afc00ad4fd722734ce770b6bf33e6dff4"></a><!-- doxytag: member="AppFunctions.c::GetSongInfo" ref="afc00ad4fd722734ce770b6bf33e6dff4" args="(char *Song_Name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_wav___chunk.html">Wav_Chunk</a> GetSongInfo </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Song_Name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Obtiene los metadatos de la cancion dada como parametro y los devuelve. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Song_name</td><td>Puntero al string que contiene el nombre de una cancion </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Estructura Wav_chunk que contiene los metadatos de la cancion </dd></dl>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00329">329</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a708f0b409d8ccde525ec76bd110c6ba3"></a><!-- doxytag: member="AppFunctions.c::GetSongNumber" ref="a708f0b409d8ccde525ec76bd110c6ba3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetSongNumber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Guarda en la variable global G_songs_number la cantidad de archivos en la tarjeta SD. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00214">214</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6115808ec1fe71451658e0a343e2b2c0"></a><!-- doxytag: member="AppFunctions.c::InitApp" ref="a6115808ec1fe71451658e0a343e2b2c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitApp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inicializa perifericos,teclado,LCD,Display y la SD card. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00222">222</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad4a684591c8487d4c7939f0f54d20517"></a><!-- doxytag: member="AppFunctions.c::InitSDSongList" ref="ad4a684591c8487d4c7939f0f54d20517" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitSDSongList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inicializa tarjeta SD y carga en los vectores G_songs_titles,G_songs_authors y G_songs_durations la informacion de las canciones. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00239">239</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0e251469709200ea9901e2a271c5a504"></a><!-- doxytag: member="AppFunctions.c::LoadSDInfo" ref="a0e251469709200ea9901e2a271c5a504" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LoadSDInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Carga en G_songs_titles,G_songs_authors y G_songs_durations la informacion de las canciones. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00368">368</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="aeb1f7774cde302dd2e541041ec139f26"></a><!-- doxytag: member="AppFunctions.c::MaqEstadoDMA" ref="aeb1f7774cde302dd2e541041ec139f26" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MaqEstadoDMA </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Maquina de Estado del Canal 0 el DMA. </p>
<p>Dependiendo del estado,la maquina inicia el canal del DMA o transfiere datos del archivo al buffer, y cuando se trasnfirieron todos los datos del buffer al DAC (por medio del DMA) vuelve al estado inicial y comienza el proceso devuelta. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00073">73</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0e03f561eeebcb7aa5981e678440b5a7"></a><!-- doxytag: member="AppFunctions.c::PauseSong" ref="a0e03f561eeebcb7aa5981e678440b5a7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PauseSong </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pausa la cancion que se este reproduciendo en ese momento. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00789">789</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a858557ff6af03d29cdb0e0831f2dc3d5"></a><!-- doxytag: member="AppFunctions.c::PitidoBuzzer" ref="a858557ff6af03d29cdb0e0831f2dc3d5" args="(int mseg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PitidoBuzzer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mseg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Emite un pitido en el buzzer que dura "mseg" milisegundos. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">mseg</td><td>Tiempo en milisegundos </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00959">959</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a09a6543685b271a7d5758f1110730eee"></a><!-- doxytag: member="AppFunctions.c::PlayNextSong" ref="a09a6543685b271a7d5758f1110730eee" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PlayNextSong </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reproduce la cancion posterior a la que se encuentra en la posicion G_song_code,si es que hay una. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00840">840</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2f99b4cbc895f287195d727201d98e0d"></a><!-- doxytag: member="AppFunctions.c::PlayPrevSong" ref="a2f99b4cbc895f287195d727201d98e0d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PlayPrevSong </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reproduce la cancion anterior a la que se encuentra en la posicion G_song_code,si es que hay una. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00825">825</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3100fd8185ae1c6def06190968e7ea0b"></a><!-- doxytag: member="AppFunctions.c::PlaySong" ref="a3100fd8185ae1c6def06190968e7ea0b" args="(int G_song_code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PlaySong </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>G_song_code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reproduce la cancion que este ubicada en la posicion "G_song_code" dentro del vector G_nombres_archivos. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">G_song_code</td><td>Entero que representa el codigo de la cancion a reproducir </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00742">742</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac6e87b78e648ac38c9b003e2486c6b62"></a><!-- doxytag: member="AppFunctions.c::ResumeSong" ref="ac6e87b78e648ac38c9b003e2486c6b62" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ResumeSong </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resume la cancion que se estaba reproduciendo anteriormente. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00810">810</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a89118859f17a2b9d8d8d183cfd33e8ed"></a><!-- doxytag: member="AppFunctions.c::RutinaSDList" ref="a89118859f17a2b9d8d8d183cfd33e8ed" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RutinaSDList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Envia por la uart la informacion de las canciones de la SD en una trama que inicia con $ y termina con $@. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00631">631</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="af6c1b54cbcc57505b16ef4330ebd9439"></a><!-- doxytag: member="AppFunctions.c::SDtoBuffer" ref="af6c1b54cbcc57505b16ef4330ebd9439" args="(FIL *G_fp, unsigned int *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_regs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> SDtoBuffer </td>
          <td>(</td>
          <td class="paramtype">FIL *&#160;</td>
          <td class="paramname"><em>G_fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copia 1024 bytes de un archivo a un buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">G_fp</td><td>Puntero al fichero del que se leen los datos </td></tr>
    <tr><td class="paramname">buffer</td><td>Puntero al buffer donde se guardan los datos </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 si se leyeron 1024 bytes y 1 si se leyeron menos de 1024 bytes </dd></dl>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00177">177</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a80c88434bf3c7068d9e322b13c9bb39b"></a><!-- doxytag: member="AppFunctions.c::StopSong" ref="a80c88434bf3c7068d9e322b13c9bb39b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StopSong </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Detiene la cancion que se este reproduciendo actualmente y retorna el LCD,los leds y el display a su estado inicial. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00766">766</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8315b4149d40f96622938f90309966c0"></a><!-- doxytag: member="AppFunctions.c::UARTRx" ref="a8315b4149d40f96622938f90309966c0" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UARTRx </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Maquina de estado que maneja los datos recibidos de la UART. </p>
<p>Analiza los bytes recibidos por la UART.Si se valida la trama(&lt;6caracteres&gt;) se guardan los 6 caracteres en G_cmd. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00483">483</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a6871fb83fb844ab9331d8830234c02f5"></a><!-- doxytag: member="AppFunctions.c::Delay_LCD" ref="a6871fb83fb844ab9331d8830234c02f5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="_regs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="_f_w___timertick_8c.html#a6871fb83fb844ab9331d8830234c02f5">Delay_LCD</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_f_w___timertick_8c_source.html#l00026">26</a> of file <a class="el" href="_f_w___timertick_8c_source.html">FW_Timertick.c</a>.</p>

</div>
</div>
<a class="anchor" id="afd1cd2e37a82c5de05258f5409f4c6c5"></a><!-- doxytag: member="AppFunctions.c::G_buffer1_DMA" ref="afd1cd2e37a82c5de05258f5409f4c6c5" args="[1024]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="_app_functions_8c.html#afd1cd2e37a82c5de05258f5409f4c6c5">G_buffer1_DMA</a>[1024]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Buffer donde se guardan datos de un archivo de la SD para luego ser enviado por el DMA al dac. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00031">31</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5de3534ca265b59324bd638bb8cce270"></a><!-- doxytag: member="AppFunctions.c::G_buffer2_DMA" ref="a5de3534ca265b59324bd638bb8cce270" args="[1024]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="_app_functions_8c.html#a5de3534ca265b59324bd638bb8cce270">G_buffer2_DMA</a>[1024]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Buffer donde se guardan datos de un archivo de la SD para luego ser enviado por el DMA al dac. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00033">33</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae67dd18ab05d965c9bbaabcfb227404b"></a><!-- doxytag: member="AppFunctions.c::G_cmd" ref="ae67dd18ab05d965c9bbaabcfb227404b" args="[7]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="_app_functions_8c.html#ae67dd18ab05d965c9bbaabcfb227404b">G_cmd</a>[7]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Comando recibido por UART. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00057">57</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a33ad19b5ab47d0fa5764224b78daa962"></a><!-- doxytag: member="AppFunctions.c::G_estado_cancion" ref="a33ad19b5ab47d0fa5764224b78daa962" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_regs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="el" href="_app_functions_8c.html#a33ad19b5ab47d0fa5764224b78daa962">G_estado_cancion</a> = SIN_CANCION</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Indica el estado actual de la cancion (reproduciendose,pausada,etc) </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00061">61</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9ad7cdf1fbd255b61a8d31b176dce417"></a><!-- doxytag: member="AppFunctions.c::G_estado_DMA" ref="a9ad7cdf1fbd255b61a8d31b176dce417" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_regs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="el" href="_app_functions_8c.html#a9ad7cdf1fbd255b61a8d31b176dce417">G_estado_DMA</a> = NO_DATA</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Estado de la maquina de estados <a class="el" href="_app_functions_8c.html#aeb1f7774cde302dd2e541041ec139f26" title="Maquina de Estado del Canal 0 el DMA.">MaqEstadoDMA()</a> </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00041">41</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="af3fdc598c32ece2d05b5f3a7d49c7365"></a><!-- doxytag: member="AppFunctions.c::G_fatfs" ref="af3fdc598c32ece2d05b5f3a7d49c7365" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FATFS <a class="el" href="_app_functions_8c.html#af3fdc598c32ece2d05b5f3a7d49c7365">G_fatfs</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Variable donde se guarda la informacion de la SD montada. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00055">55</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a789cef84d8187d51ca76445e9830902c"></a><!-- doxytag: member="AppFunctions.c::G_fp" ref="a789cef84d8187d51ca76445e9830902c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FIL <a class="el" href="_f_w___timer1_8c.html#a789cef84d8187d51ca76445e9830902c">G_fp</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Variable donde se guarda la informacion del archivo que se abra. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00043">43</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5c795eadfdd0acb28342cac2aa9f2451"></a><!-- doxytag: member="AppFunctions.c::G_modo" ref="a5c795eadfdd0acb28342cac2aa9f2451" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_regs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="el" href="_app_functions_8h.html#a5c795eadfdd0acb28342cac2aa9f2451">G_modo</a> = PLACA</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Indica el modo en el que esta el reproductor.Puede ser PLACA o PC. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00063">63</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="acefeef3bdc47dc9be69820d0ba1e972e"></a><!-- doxytag: member="AppFunctions.c::G_nombres_archivos" ref="acefeef3bdc47dc9be69820d0ba1e972e" args="[100][60]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="_app_functions_8c.html#acefeef3bdc47dc9be69820d0ba1e972e">G_nombres_archivos</a>[100][60] = {{0}}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Matriz donde se guardan los nombres de las canciones en la SD. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00045">45</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a378d10b357b411dc49ed8351e7d0e99f"></a><!-- doxytag: member="AppFunctions.c::G_song_code" ref="a378d10b357b411dc49ed8351e7d0e99f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="_app_functions_8c.html#a378d10b357b411dc49ed8351e7d0e99f">G_song_code</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Codigo de la cancion.Cada cancion tiene un codigo que corresponde a la posicion que tenga en G_nombres_archivos. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00059">59</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a491938f288364f40cc2a2e0192b67b0d"></a><!-- doxytag: member="AppFunctions.c::G_songs_authors" ref="a491938f288364f40cc2a2e0192b67b0d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char** <a class="el" href="_app_functions_8c.html#a491938f288364f40cc2a2e0192b67b0d">G_songs_authors</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Matriz donde se guardan los autores de las canciones. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00049">49</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa9198929113065acbae2ab08480669a2"></a><!-- doxytag: member="AppFunctions.c::G_songs_durations" ref="aa9198929113065acbae2ab08480669a2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char** <a class="el" href="_app_functions_8c.html#aa9198929113065acbae2ab08480669a2">G_songs_durations</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Matriz donde se guardan la duracion en segundos de las canciones. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00051">51</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a42c0cc52b53713dc556e3c433e0c8f9a"></a><!-- doxytag: member="AppFunctions.c::G_songs_number" ref="a42c0cc52b53713dc556e3c433e0c8f9a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_regs_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="_app_functions_8c.html#a42c0cc52b53713dc556e3c433e0c8f9a">G_songs_number</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cantidad de canciones encontradas en la SD. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00053">53</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1edf3810d5e9caabeac5747a286e4891"></a><!-- doxytag: member="AppFunctions.c::G_songs_titles" ref="a1edf3810d5e9caabeac5747a286e4891" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char** <a class="el" href="_app_functions_8c.html#a1edf3810d5e9caabeac5747a286e4891">G_songs_titles</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Matriz donde se guardan los titulos de las canciones. </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00047">47</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a143745b7fada899695f2f77cfc08886a"></a><!-- doxytag: member="AppFunctions.c::G_start_transfer" ref="a143745b7fada899695f2f77cfc08886a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_regs_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="el" href="_app_functions_8c.html#a143745b7fada899695f2f77cfc08886a">G_start_transfer</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flag para iniciar la transferencia utilizado en <a class="el" href="_app_functions_8c.html#aeb1f7774cde302dd2e541041ec139f26" title="Maquina de Estado del Canal 0 el DMA.">MaqEstadoDMA()</a> </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00039">39</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
<a class="anchor" id="a013adf5ad9eec6f2e9a18d34355fe640"></a><!-- doxytag: member="AppFunctions.c::G_Timer_Buzzer" ref="a013adf5ad9eec6f2e9a18d34355fe640" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int <a class="el" href="_app_functions_8h.html#a013adf5ad9eec6f2e9a18d34355fe640">G_Timer_Buzzer</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Timer del buzzer utilizado en la funcion <a class="el" href="_app_functions_8c.html#a858557ff6af03d29cdb0e0831f2dc3d5" title="Emite un pitido en el buzzer que dura &quot;mseg&quot; milisegundos.">PitidoBuzzer()</a> </p>

<p>Definition at line <a class="el" href="_app_functions_8c_source.html#l00035">35</a> of file <a class="el" href="_app_functions_8c_source.html">AppFunctions.c</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="_app_functions_8c.html">AppFunctions.c</a>      </li>
      <li class="footer">Generated on Fri Nov 14 2014 07:52:07 for UTN Wav Player by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
